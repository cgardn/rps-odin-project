<!DOCTYPE html>
<script>
    function computerPlay() {
        let options = ['Rock', 'Paper', 'Scissors'];
        let choice = Math.floor(Math.random()*3);
        return options[choice];
    }

    function playRound(playerSelection, computerSelection) {
        let result;
        let message;

        switch (playerSelection) {

            case 'Paper':
                if (computerSelection == 'Rock') result='win';
                else if (computerSelection == 'Paper') result='tie';
                else result = 'lose';
                break;
            
            case 'Rock':
                if (computerSelection == 'Scissors') result='win';
                else if (computerSelection == 'Rock') result='tie';
                else result = 'lose';
                break;

            case 'Scissors':
                if (computerSelection == 'Paper') result='win';
                else if (computerSelection == 'Scissors') result='tie';
                else result = 'lose';
                break;  
        }

        switch (result) {

            case 'win':
                message = `You win! ${playerSelection} beats ${computerSelection}!`;
                break;
            case 'lose':
                message = `You lose :( - ${playerSelection} loses to ${computerSelection}!`;
                break;
            case 'tie':
                message = `Tie! Both ${playerSelection}!`;
        }

        return message;
    }

    function getPlayerChoice() {
        let legalOptions = ['rock', 'paper', 'scissors'];
        let choice = prompt("Make your play: rock, paper, or scissors!").toLowerCase();

        while (legalOptions.indexOf(choice) < 0) {
            choice = prompt("You must pick rock, paper, or scissors: no guns or bombs or anything weird!!").toLowerCase();
        }
        return choice.charAt(0).toUpperCase() + choice.slice(1).toLowerCase();
    }

    function game() {
        for (let i=0; i<5; i++) {
            console.log(playRound(getPlayerChoice(), computerPlay()));
        }
        console.log("Game over?");
    }

    game();
</script>